class b{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const r=this._partials;let i=0;for(let e=0;e<this._n&&e<32;e++){const u=r[e],f=t+u,s=Math.abs(t)<Math.abs(u)?t-(f-u):u-(f-t);s&&(r[i++]=s),t=f}return r[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let r=this._n,i,e,u,f=0;if(r>0){for(f=t[--r];r>0&&(i=f,e=t[--r],f=i+e,u=e-(f-i),!u););r>0&&(u<0&&t[r-1]<0||u>0&&t[r-1]>0)&&(e=u*2,i=f+e,e==i-f&&(f=i))}return f}}function*Dt(n){for(const t of n)yield*t}function dt(n){return Array.from(Dt(n))}var T=1e-6,qt=1e-12,I=Math.PI,H=I/2,xn=I/4,J=I*2,k=180/I,B=I/180,F=Math.abs,Ot=Math.atan,vn=Math.atan2,q=Math.cos,O=Math.sin,Xt=Math.sign||function(n){return n>0?1:n<0?-1:0},tn=Math.sqrt;function Yt(n){return n>1?0:n<-1?I:Math.acos(n)}function gn(n){return n>1?H:n<-1?-H:Math.asin(n)}function W(){}function Pn(n,t){n&&nt.hasOwnProperty(n.type)&&nt[n.type](n,t)}var bn={Feature:function(n,t){Pn(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,i=-1,e=r.length;++i<e;)Pn(r[i].geometry,t)}},nt={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)n=r[i],t.point(n[0],n[1],n[2])},LineString:function(n,t){qn(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)qn(r[i],t,0)},Polygon:function(n,t){tt(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,i=-1,e=r.length;++i<e;)tt(r[i],t)},GeometryCollection:function(n,t){for(var r=n.geometries,i=-1,e=r.length;++i<e;)Pn(r[i],t)}};function qn(n,t,r){var i=-1,e=n.length-r,u;for(t.lineStart();++i<e;)u=n[i],t.point(u[0],u[1],u[2]);t.lineEnd()}function tt(n,t){var r=-1,i=n.length;for(t.polygonStart();++r<i;)qn(n[r],t,1);t.polygonEnd()}function en(n,t){n&&bn.hasOwnProperty(n.type)?bn[n.type](n,t):Pn(n,t)}function On(n){return[vn(n[1],n[0]),gn(n[2])]}function un(n){var t=n[0],r=n[1],i=q(r);return[i*q(t),i*O(t),O(r)]}function En(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Rn(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Tn(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function yn(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Xn(n){var t=tn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Yn(n,t){function r(i,e){return i=n(i,e),t(i[0],i[1])}return n.invert&&t.invert&&(r.invert=function(i,e){return i=t.invert(i,e),i&&n.invert(i[0],i[1])}),r}function Zn(n,t){return[F(n)>I?n+Math.round(-n/J)*J:n,t]}Zn.invert=Zn;function Zt(n,t,r){return(n%=J)?t||r?Yn(rt(n),et(t,r)):rt(n):t||r?et(t,r):Zn}function it(n){return function(t,r){return t+=n,[t>I?t-J:t<-I?t+J:t,r]}}function rt(n){var t=it(n);return t.invert=it(-n),t}function et(n,t){var r=q(n),i=O(n),e=q(t),u=O(t);function f(s,g){var v=q(g),o=q(s)*v,l=O(s)*v,a=O(g),p=a*r+o*i;return[vn(l*e-p*u,o*r-a*i),gn(p*e+l*u)]}return f.invert=function(s,g){var v=q(g),o=q(s)*v,l=O(s)*v,a=O(g),p=a*e-l*u;return[vn(l*e+a*u,o*r+p*i),gn(p*r-o*i)]},f}function Bt(n,t,r,i,e,u){if(!!r){var f=q(t),s=O(t),g=i*r;e==null?(e=t+i*J,u=t-g/2):(e=ot(f,e),u=ot(f,u),(i>0?e<u:e>u)&&(e+=i*J));for(var v,o=e;i>0?o>u:o<u;o-=g)v=On([f,-s*q(o),-s*O(o)]),n.point(v[0],v[1])}}function ot(n,t){t=un(t),t[0]-=n,Xn(t);var r=Yt(-t[1]);return((-t[2]<0?-r:r)+J-T)%J}function Et(){var n=[],t;return{point:function(r,i,e){t.push([r,i,e])},lineStart:function(){n.push(t=[])},lineEnd:W,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var r=n;return n=[],t=null,r}}}function Mn(n,t){return F(n[0]-t[0])<T&&F(n[1]-t[1])<T}function wn(n,t,r,i){this.x=n,this.z=t,this.o=r,this.e=i,this.v=!1,this.n=this.p=null}function yt(n,t,r,i,e){var u=[],f=[],s,g;if(n.forEach(function(h){if(!((w=h.length-1)<=0)){var w,S=h[0],R=h[w],E;if(Mn(S,R)){if(!S[2]&&!R[2]){for(e.lineStart(),s=0;s<w;++s)e.point((S=h[s])[0],S[1]);e.lineEnd();return}R[0]+=2*T}u.push(E=new wn(S,h,null,!0)),f.push(E.o=new wn(S,null,E,!1)),u.push(E=new wn(R,h,null,!1)),f.push(E.o=new wn(R,null,E,!0))}}),!!u.length){for(f.sort(t),ut(u),ut(f),s=0,g=f.length;s<g;++s)f[s].e=r=!r;for(var v=u[0],o,l;;){for(var a=v,p=!0;a.v;)if((a=a.n)===v)return;o=a.z,e.lineStart();do{if(a.v=a.o.v=!0,a.e){if(p)for(s=0,g=o.length;s<g;++s)e.point((l=o[s])[0],l[1]);else i(a.x,a.n.x,1,e);a=a.n}else{if(p)for(o=a.p.z,s=o.length-1;s>=0;--s)e.point((l=o[s])[0],l[1]);else i(a.x,a.p.x,-1,e);a=a.p}a=a.o,o=a.z,p=!p}while(!a.v);e.lineEnd()}}}function ut(n){if(!!(t=n.length)){for(var t,r=0,i=n[0],e;++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}function Cn(n){return F(n[0])<=I?n[0]:Xt(n[0])*((F(n[0])+I)%J-I)}function Gt(n,t){var r=Cn(t),i=t[1],e=O(i),u=[O(r),-q(r),0],f=0,s=0,g=new b;e===1?i=H+T:e===-1&&(i=-H-T);for(var v=0,o=n.length;v<o;++v)if(!!(a=(l=n[v]).length))for(var l,a,p=l[a-1],h=Cn(p),w=p[1]/2+xn,S=O(w),R=q(w),E=0;E<a;++E,h=d,S=P,R=A,p=_){var _=l[E],d=Cn(_),M=_[1]/2+xn,P=O(M),A=q(M),L=d-h,z=L>=0?1:-1,C=z*L,y=C>I,Y=S*P;if(g.add(vn(Y*z*O(C),R*A+Y*q(C))),f+=y?L+z*J:L,y^h>=r^d>=r){var D=Rn(un(p),un(_));Xn(D);var $=Rn(u,D);Xn($);var c=(y^L>=0?-1:1)*gn($[2]);(i>c||i===c&&(D[0]||D[1]))&&(s+=y^L>=0?1:-1)}}return(f<-T||f<T&&g<-qt)^s&1}function wt(n,t,r,i){return function(e){var u=t(e),f=Et(),s=t(f),g=!1,v,o,l,a={point:p,lineStart:w,lineEnd:S,polygonStart:function(){a.point=R,a.lineStart=E,a.lineEnd=_,o=[],v=[]},polygonEnd:function(){a.point=p,a.lineStart=w,a.lineEnd=S,o=dt(o);var d=Gt(v,i);o.length?(g||(e.polygonStart(),g=!0),yt(o,Wt,d,r,e)):d&&(g||(e.polygonStart(),g=!0),e.lineStart(),r(null,null,1,e),e.lineEnd()),g&&(e.polygonEnd(),g=!1),o=v=null},sphere:function(){e.polygonStart(),e.lineStart(),r(null,null,1,e),e.lineEnd(),e.polygonEnd()}};function p(d,M){n(d,M)&&e.point(d,M)}function h(d,M){u.point(d,M)}function w(){a.point=h,u.lineStart()}function S(){a.point=p,u.lineEnd()}function R(d,M){l.push([d,M]),s.point(d,M)}function E(){s.lineStart(),l=[]}function _(){R(l[0][0],l[0][1]),s.lineEnd();var d=s.clean(),M=f.result(),P,A=M.length,L,z,C;if(l.pop(),v.push(l),l=null,!!A){if(d&1){if(z=M[0],(L=z.length-1)>0){for(g||(e.polygonStart(),g=!0),e.lineStart(),P=0;P<L;++P)e.point((C=z[P])[0],C[1]);e.lineEnd()}return}A>1&&d&2&&M.push(M.pop().concat(M.shift())),o.push(M.filter(Ht))}}return a}}function Ht(n){return n.length>1}function Wt(n,t){return((n=n.x)[0]<0?n[1]-H-T:H-n[1])-((t=t.x)[0]<0?t[1]-H-T:H-t[1])}var ft=wt(function(){return!0},Jt,Qt,[-I,-H]);function Jt(n){var t=NaN,r=NaN,i=NaN,e;return{lineStart:function(){n.lineStart(),e=1},point:function(u,f){var s=u>0?I:-I,g=F(u-t);F(g-I)<T?(n.point(t,r=(r+f)/2>0?H:-H),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(s,r),n.point(u,r),e=0):i!==s&&g>=I&&(F(t-i)<T&&(t-=i*T),F(u-s)<T&&(u-=s*T),r=Kt(t,r,u,f),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(s,r),e=0),n.point(t=u,r=f),i=s},lineEnd:function(){n.lineEnd(),t=r=NaN},clean:function(){return 2-e}}}function Kt(n,t,r,i){var e,u,f=O(n-r);return F(f)>T?Ot((O(t)*(u=q(i))*O(r)-O(i)*(e=q(t))*O(n))/(e*u*f)):(t+i)/2}function Qt(n,t,r,i){var e;if(n==null)e=r*H,i.point(-I,e),i.point(0,e),i.point(I,e),i.point(I,0),i.point(I,-e),i.point(0,-e),i.point(-I,-e),i.point(-I,0),i.point(-I,e);else if(F(n[0]-t[0])>T){var u=n[0]<t[0]?I:-I;e=r*u/2,i.point(-u,e),i.point(0,e),i.point(u,e)}else i.point(t[0],t[1])}function Ut(n){var t=q(n),r=6*B,i=t>0,e=F(t)>T;function u(o,l,a,p){Bt(p,n,r,a,o,l)}function f(o,l){return q(o)*q(l)>t}function s(o){var l,a,p,h,w;return{lineStart:function(){h=p=!1,w=1},point:function(S,R){var E=[S,R],_,d=f(S,R),M=i?d?0:v(S,R):d?v(S+(S<0?I:-I),R):0;if(!l&&(h=p=d)&&o.lineStart(),d!==p&&(_=g(l,E),(!_||Mn(l,_)||Mn(E,_))&&(E[2]=1)),d!==p)w=0,d?(o.lineStart(),_=g(E,l),o.point(_[0],_[1])):(_=g(l,E),o.point(_[0],_[1],2),o.lineEnd()),l=_;else if(e&&l&&i^d){var P;!(M&a)&&(P=g(E,l,!0))&&(w=0,i?(o.lineStart(),o.point(P[0][0],P[0][1]),o.point(P[1][0],P[1][1]),o.lineEnd()):(o.point(P[1][0],P[1][1]),o.lineEnd(),o.lineStart(),o.point(P[0][0],P[0][1],3)))}d&&(!l||!Mn(l,E))&&o.point(E[0],E[1]),l=E,p=d,a=M},lineEnd:function(){p&&o.lineEnd(),l=null},clean:function(){return w|(h&&p)<<1}}}function g(o,l,a){var p=un(o),h=un(l),w=[1,0,0],S=Rn(p,h),R=En(S,S),E=S[0],_=R-E*E;if(!_)return!a&&o;var d=t*R/_,M=-t*E/_,P=Rn(w,S),A=yn(w,d),L=yn(S,M);Tn(A,L);var z=P,C=En(A,z),y=En(z,z),Y=C*C-y*(En(A,A)-1);if(!(Y<0)){var D=tn(Y),$=yn(z,(-C-D)/y);if(Tn($,A),$=On($),!a)return $;var c=o[0],N=l[0],X=o[1],Z=l[1],G;N<c&&(G=c,c=N,N=G);var ln=N-c,V=F(ln-I)<T,x=V||ln<T;if(!V&&Z<X&&(G=X,X=Z,Z=G),x?V?X+Z>0^$[1]<(F($[0]-c)<T?X:Z):X<=$[1]&&$[1]<=Z:ln>I^(c<=$[0]&&$[0]<=N)){var m=yn(z,(-C+D)/y);return Tn(m,A),[$,On(m)]}}}function v(o,l){var a=i?n:I-n,p=0;return o<-a?p|=1:o>a&&(p|=2),l<-a?p|=4:l>a&&(p|=8),p}return wt(f,s,u,i?[0,-n]:[-I,n-I])}function Vt(n,t,r,i,e,u){var f=n[0],s=n[1],g=t[0],v=t[1],o=0,l=1,a=g-f,p=v-s,h;if(h=r-f,!(!a&&h>0)){if(h/=a,a<0){if(h<o)return;h<l&&(l=h)}else if(a>0){if(h>l)return;h>o&&(o=h)}if(h=e-f,!(!a&&h<0)){if(h/=a,a<0){if(h>l)return;h>o&&(o=h)}else if(a>0){if(h<o)return;h<l&&(l=h)}if(h=i-s,!(!p&&h>0)){if(h/=p,p<0){if(h<o)return;h<l&&(l=h)}else if(p>0){if(h>l)return;h>o&&(o=h)}if(h=u-s,!(!p&&h<0)){if(h/=p,p<0){if(h>l)return;h>o&&(o=h)}else if(p>0){if(h<o)return;h<l&&(l=h)}return o>0&&(n[0]=f+o*a,n[1]=s+o*p),l<1&&(t[0]=f+l*a,t[1]=s+l*p),!0}}}}}var an=1e9,_n=-an;function mt(n,t,r,i){function e(v,o){return n<=v&&v<=r&&t<=o&&o<=i}function u(v,o,l,a){var p=0,h=0;if(v==null||(p=f(v,l))!==(h=f(o,l))||g(v,o)<0^l>0)do a.point(p===0||p===3?n:r,p>1?i:t);while((p=(p+l+4)%4)!==h);else a.point(o[0],o[1])}function f(v,o){return F(v[0]-n)<T?o>0?0:3:F(v[0]-r)<T?o>0?2:1:F(v[1]-t)<T?o>0?1:0:o>0?3:2}function s(v,o){return g(v.x,o.x)}function g(v,o){var l=f(v,1),a=f(o,1);return l!==a?l-a:l===0?o[1]-v[1]:l===1?v[0]-o[0]:l===2?v[1]-o[1]:o[0]-v[0]}return function(v){var o=v,l=Et(),a,p,h,w,S,R,E,_,d,M,P,A={point:L,lineStart:Y,lineEnd:D,polygonStart:C,polygonEnd:y};function L(c,N){e(c,N)&&o.point(c,N)}function z(){for(var c=0,N=0,X=p.length;N<X;++N)for(var Z=p[N],G=1,ln=Z.length,V=Z[0],x,m,dn=V[0],rn=V[1];G<ln;++G)x=dn,m=rn,V=Z[G],dn=V[0],rn=V[1],m<=i?rn>i&&(dn-x)*(i-m)>(rn-m)*(n-x)&&++c:rn<=i&&(dn-x)*(i-m)<(rn-m)*(n-x)&&--c;return c}function C(){o=l,a=[],p=[],P=!0}function y(){var c=z(),N=P&&c,X=(a=dt(a)).length;(N||X)&&(v.polygonStart(),N&&(v.lineStart(),u(null,null,1,v),v.lineEnd()),X&&yt(a,s,c,u,v),v.polygonEnd()),o=v,a=p=h=null}function Y(){A.point=$,p&&p.push(h=[]),M=!0,d=!1,E=_=NaN}function D(){a&&($(w,S),R&&d&&l.rejoin(),a.push(l.result())),A.point=L,d&&o.lineEnd()}function $(c,N){var X=e(c,N);if(p&&h.push([c,N]),M)w=c,S=N,R=X,M=!1,X&&(o.lineStart(),o.point(c,N));else if(X&&d)o.point(c,N);else{var Z=[E=Math.max(_n,Math.min(an,E)),_=Math.max(_n,Math.min(an,_))],G=[c=Math.max(_n,Math.min(an,c)),N=Math.max(_n,Math.min(an,N))];Vt(Z,G,n,t,r,i)?(d||(o.lineStart(),o.point(Z[0],Z[1])),o.point(G[0],G[1]),X||o.lineEnd(),P=!1):X&&(o.lineStart(),o.point(c,N),P=!1)}E=c,_=N,d=X}return A}}var Bn=n=>n,Fn=new b,Gn=new b,_t,Mt,Hn,Wn,j={point:W,lineStart:W,lineEnd:W,polygonStart:function(){j.lineStart=kt,j.lineEnd=xt},polygonEnd:function(){j.lineStart=j.lineEnd=j.point=W,Fn.add(F(Gn)),Gn=new b},result:function(){var n=Fn/2;return Fn=new b,n}};function kt(){j.point=jt}function jt(n,t){j.point=Pt,_t=Hn=n,Mt=Wn=t}function Pt(n,t){Gn.add(Wn*n-Hn*t),Hn=n,Wn=t}function xt(){Pt(_t,Mt)}var lt=j,fn=1/0,Nn=fn,Sn=-fn,In=Sn,bt={point:ni,lineStart:W,lineEnd:W,polygonStart:W,polygonEnd:W,result:function(){var n=[[fn,Nn],[Sn,In]];return Sn=In=-(Nn=fn=1/0),n}};function ni(n,t){n<fn&&(fn=n),n>Sn&&(Sn=n),t<Nn&&(Nn=t),t>In&&(In=t)}var Ln=bt,Jn=0,Kn=0,cn=0,zn=0,An=0,on=0,Qn=0,Un=0,sn=0,Rt,Nt,Q,U,K={point:nn,lineStart:at,lineEnd:ct,polygonStart:function(){K.lineStart=ri,K.lineEnd=ei},polygonEnd:function(){K.point=nn,K.lineStart=at,K.lineEnd=ct},result:function(){var n=sn?[Qn/sn,Un/sn]:on?[zn/on,An/on]:cn?[Jn/cn,Kn/cn]:[NaN,NaN];return Jn=Kn=cn=zn=An=on=Qn=Un=sn=0,n}};function nn(n,t){Jn+=n,Kn+=t,++cn}function at(){K.point=ti}function ti(n,t){K.point=ii,nn(Q=n,U=t)}function ii(n,t){var r=n-Q,i=t-U,e=tn(r*r+i*i);zn+=e*(Q+n)/2,An+=e*(U+t)/2,on+=e,nn(Q=n,U=t)}function ct(){K.point=nn}function ri(){K.point=oi}function ei(){It(Rt,Nt)}function oi(n,t){K.point=It,nn(Rt=Q=n,Nt=U=t)}function It(n,t){var r=n-Q,i=t-U,e=tn(r*r+i*i);zn+=e*(Q+n)/2,An+=e*(U+t)/2,on+=e,e=U*n-Q*t,Qn+=e*(Q+n),Un+=e*(U+t),sn+=e*3,nn(Q=n,U=t)}var st=K;function Lt(n){this._context=n}Lt.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,J);break}}},result:W};var Vn=new b,Dn,zt,At,pn,hn,$n={point:W,lineStart:function(){$n.point=ui},lineEnd:function(){Dn&&$t(zt,At),$n.point=W},polygonStart:function(){Dn=!0},polygonEnd:function(){Dn=null},result:function(){var n=+Vn;return Vn=new b,n}};function ui(n,t){$n.point=$t,zt=pn=n,At=hn=t}function $t(n,t){pn-=n,hn-=t,Vn.add(tn(pn*pn+hn*hn)),pn=n,hn=t}var pt=$n;function Tt(){this._string=[]}Tt.prototype={_radius:4.5,_circle:ht(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._string.push("M",n,",",t),this._point=1;break}case 1:{this._string.push("L",n,",",t);break}default:{this._circle==null&&(this._circle=ht(this._radius)),this._string.push("M",n,",",t,this._circle);break}}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}else return null}};function ht(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Ei(n,t){var r=4.5,i,e;function u(f){return f&&(typeof r=="function"&&e.pointRadius(+r.apply(this,arguments)),en(f,i(e))),e.result()}return u.area=function(f){return en(f,i(lt)),lt.result()},u.measure=function(f){return en(f,i(pt)),pt.result()},u.bounds=function(f){return en(f,i(Ln)),Ln.result()},u.centroid=function(f){return en(f,i(st)),st.result()},u.projection=function(f){return arguments.length?(i=f==null?(n=null,Bn):(n=f).stream,u):n},u.context=function(f){return arguments.length?(e=f==null?(t=null,new Tt):new Lt(t=f),typeof r!="function"&&e.pointRadius(r),u):t},u.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(e.pointRadius(+f),+f),u):r},u.projection(n).context(t)}function kn(n){return function(t){var r=new mn;for(var i in n)r[i]=n[i];return r.stream=t,r}}function mn(){}mn.prototype={constructor:mn,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function jn(n,t,r){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),i!=null&&n.clipExtent(null),en(r,n.stream(Ln)),t(Ln.result()),i!=null&&n.clipExtent(i),n}function Ct(n,t,r){return jn(n,function(i){var e=t[1][0]-t[0][0],u=t[1][1]-t[0][1],f=Math.min(e/(i[1][0]-i[0][0]),u/(i[1][1]-i[0][1])),s=+t[0][0]+(e-f*(i[1][0]+i[0][0]))/2,g=+t[0][1]+(u-f*(i[1][1]+i[0][1]))/2;n.scale(150*f).translate([s,g])},r)}function fi(n,t,r){return Ct(n,[[0,0],t],r)}function li(n,t,r){return jn(n,function(i){var e=+t,u=e/(i[1][0]-i[0][0]),f=(e-u*(i[1][0]+i[0][0]))/2,s=-u*i[0][1];n.scale(150*u).translate([f,s])},r)}function ai(n,t,r){return jn(n,function(i){var e=+t,u=e/(i[1][1]-i[0][1]),f=-u*i[0][0],s=(e-u*(i[1][1]+i[0][1]))/2;n.scale(150*u).translate([f,s])},r)}var vt=16,ci=q(30*B);function gt(n,t){return+t?pi(n,t):si(n)}function si(n){return kn({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function pi(n,t){function r(i,e,u,f,s,g,v,o,l,a,p,h,w,S){var R=v-i,E=o-e,_=R*R+E*E;if(_>4*t&&w--){var d=f+a,M=s+p,P=g+h,A=tn(d*d+M*M+P*P),L=gn(P/=A),z=F(F(P)-1)<T||F(u-l)<T?(u+l)/2:vn(M,d),C=n(z,L),y=C[0],Y=C[1],D=y-i,$=Y-e,c=E*D-R*$;(c*c/_>t||F((R*D+E*$)/_-.5)>.3||f*a+s*p+g*h<ci)&&(r(i,e,u,f,s,g,y,Y,z,d/=A,M/=A,P,w,S),S.point(y,Y),r(y,Y,z,d,M,P,v,o,l,a,p,h,w,S))}}return function(i){var e,u,f,s,g,v,o,l,a,p,h,w,S={point:R,lineStart:E,lineEnd:d,polygonStart:function(){i.polygonStart(),S.lineStart=M},polygonEnd:function(){i.polygonEnd(),S.lineStart=E}};function R(L,z){L=n(L,z),i.point(L[0],L[1])}function E(){l=NaN,S.point=_,i.lineStart()}function _(L,z){var C=un([L,z]),y=n(L,z);r(l,a,o,p,h,w,l=y[0],a=y[1],o=L,p=C[0],h=C[1],w=C[2],vt,i),i.point(l,a)}function d(){S.point=R,i.lineEnd()}function M(){E(),S.point=P,S.lineEnd=A}function P(L,z){_(e=L,z),u=l,f=a,s=p,g=h,v=w,S.point=_}function A(){r(l,a,o,p,h,w,u,f,e,s,g,v,vt,i),S.lineEnd=d,d()}return S}}var hi=kn({point:function(n,t){this.stream.point(n*B,t*B)}});function vi(n){return kn({point:function(t,r){var i=n(t,r);return this.stream.point(i[0],i[1])}})}function gi(n,t,r,i,e){function u(f,s){return f*=i,s*=e,[t+n*f,r-n*s]}return u.invert=function(f,s){return[(f-t)/n*i,(r-s)/n*e]},u}function St(n,t,r,i,e,u){if(!u)return gi(n,t,r,i,e);var f=q(u),s=O(u),g=f*n,v=s*n,o=f/n,l=s/n,a=(s*r-f*t)/n,p=(s*t+f*r)/n;function h(w,S){return w*=i,S*=e,[g*w-v*S+t,r-v*w-g*S]}return h.invert=function(w,S){return[i*(o*w-l*S+a),e*(p-l*w-o*S)]},h}function Si(n){return di(function(){return n})()}function di(n){var t,r=150,i=480,e=250,u=0,f=0,s=0,g=0,v=0,o,l=0,a=1,p=1,h=null,w=ft,S=null,R,E,_,d=Bn,M=.5,P,A,L,z,C;function y(c){return L(c[0]*B,c[1]*B)}function Y(c){return c=L.invert(c[0],c[1]),c&&[c[0]*k,c[1]*k]}y.stream=function(c){return z&&C===c?z:z=hi(vi(o)(w(P(d(C=c)))))},y.preclip=function(c){return arguments.length?(w=c,h=void 0,$()):w},y.postclip=function(c){return arguments.length?(d=c,S=R=E=_=null,$()):d},y.clipAngle=function(c){return arguments.length?(w=+c?Ut(h=c*B):(h=null,ft),$()):h*k},y.clipExtent=function(c){return arguments.length?(d=c==null?(S=R=E=_=null,Bn):mt(S=+c[0][0],R=+c[0][1],E=+c[1][0],_=+c[1][1]),$()):S==null?null:[[S,R],[E,_]]},y.scale=function(c){return arguments.length?(r=+c,D()):r},y.translate=function(c){return arguments.length?(i=+c[0],e=+c[1],D()):[i,e]},y.center=function(c){return arguments.length?(u=c[0]%360*B,f=c[1]%360*B,D()):[u*k,f*k]},y.rotate=function(c){return arguments.length?(s=c[0]%360*B,g=c[1]%360*B,v=c.length>2?c[2]%360*B:0,D()):[s*k,g*k,v*k]},y.angle=function(c){return arguments.length?(l=c%360*B,D()):l*k},y.reflectX=function(c){return arguments.length?(a=c?-1:1,D()):a<0},y.reflectY=function(c){return arguments.length?(p=c?-1:1,D()):p<0},y.precision=function(c){return arguments.length?(P=gt(A,M=c*c),$()):tn(M)},y.fitExtent=function(c,N){return Ct(y,c,N)},y.fitSize=function(c,N){return fi(y,c,N)},y.fitWidth=function(c,N){return li(y,c,N)},y.fitHeight=function(c,N){return ai(y,c,N)};function D(){var c=St(r,0,0,a,p,l).apply(null,t(u,f)),N=St(r,i-c[0],e-c[1],a,p,l);return o=Zt(s,g,v),A=Yn(t,N),L=Yn(o,A),P=gt(A,M),$()}function $(){return z=C=null,y}return function(){return t=n.apply(this,arguments),y.invert=t.invert&&Y,D()}}function Ft(n,t){var r=t*t,i=r*r;return[n*(.8707-.131979*r+i*(-.013791+i*(.003971*r-.001529*i))),t*(1.007226+r*(.015085+i*(-.044475+.028874*r-.005916*i)))]}Ft.invert=function(n,t){var r=t,i=25,e;do{var u=r*r,f=u*u;r-=e=(r*(1.007226+u*(.015085+f*(-.044475+.028874*u-.005916*f)))-t)/(1.007226+u*(.015085*3+f*(-.044475*7+.028874*9*u-.005916*11*f)))}while(F(e)>T&&--i>0);return[n/(.8707+(u=r*r)*(-.131979+u*(-.013791+u*u*u*(.003971-.001529*u)))),r]};function yi(){return Si(Ft).scale(175.295)}export{Ei as a,yi as g};
