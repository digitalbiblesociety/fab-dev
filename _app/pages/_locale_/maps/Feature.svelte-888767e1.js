import{C as j,aj as k,ak as B,ad as J,S as Q,i as U,s as W,R as x,T as $,a as tt,d as A,b,g as et,V as z,E as S,G as nt,N as rt}from"../../../chunks/index-a4306a73.js";import{w as it}from"../../../chunks/index-0f12d98c.js";import{R,a as st,d as T,e as q,C as D,n as y,r as at}from"../../../chunks/color-2614ec3d.js";const ot=Math.PI/180,lt=180/Math.PI,g=18,F=.96422,I=1,G=.82521,H=4/29,p=6/29,K=3*p*p,ut=p*p*p;function L(t){if(t instanceof o)return new o(t.l,t.a,t.b,t.opacity);if(t instanceof u)return V(t);t instanceof R||(t=st(t));var e=_(t.r),n=_(t.g),r=_(t.b),s=m((.2225045*e+.7168786*n+.0606169*r)/I),i,a;return e===n&&n===r?i=a=s:(i=m((.4360747*e+.3850649*n+.1430804*r)/F),a=m((.0139322*e+.0971045*n+.7141733*r)/G)),new o(116*s-16,500*(i-s),200*(s-a),t.opacity)}function C(t,e,n,r){return arguments.length===1?L(t):new o(t,e,n,r==null?1:r)}function o(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}T(o,C,q(D,{brighter:function(t){return new o(this.l+g*(t==null?1:t),this.a,this.b,this.opacity)},darker:function(t){return new o(this.l-g*(t==null?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=F*d(e),t=I*d(t),n=G*d(n),new R(w(3.1338561*e-1.6168667*t-.4906146*n),w(-.9787684*e+1.9161415*t+.033454*n),w(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function m(t){return t>ut?Math.pow(t,1/3):t/K+H}function d(t){return t>p?t*t*t:K*(t-H)}function w(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function _(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ct(t){if(t instanceof u)return new u(t.h,t.c,t.l,t.opacity);if(t instanceof o||(t=L(t)),t.a===0&&t.b===0)return new u(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*lt;return new u(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ft(t,e,n,r){return arguments.length===1?ct(t):new u(t,e,n,r==null?1:r)}function u(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function V(t){if(isNaN(t.h))return new o(t.l,0,0,t.opacity);var e=t.h*ot;return new o(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}T(u,ft,q(D,{brighter:function(t){return new u(this.h,this.c,this.l+g*(t==null?1:t),this.opacity)},darker:function(t){return new u(this.h,this.c,this.l-g*(t==null?1:t),this.opacity)},rgb:function(){return V(this).rgb()}}));function ht(t,e){var n=y((t=C(t)).l,(e=C(e)).l),r=y(t.a,e.a),s=y(t.b,e.b),i=y(t.opacity,e.opacity);return function(a){return t.l=n(a),t.a=r(a),t.b=s(a),t.opacity=i(a),t+""}}function O(t){return Object.prototype.toString.call(t)==="[object Date]"}function N(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((s,i)=>N(t[i],s));return s=>r.map(i=>i(s))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(O(t)&&O(e)){t=t.getTime(),e=e.getTime();const i=e-t;return a=>new Date(t+a*i)}const r=Object.keys(e),s={};return r.forEach(i=>{s[i]=N(t[i],e[i])}),i=>{const a={};return r.forEach(c=>{a[c]=s[c](i)}),a}}if(n==="number"){const r=e-t;return s=>t+s*r}throw new Error(`Cannot interpolate ${n} values`)}function pt(t,e={}){const n=it(t);let r,s=t;function i(a,c){if(t==null)return n.set(t=a),Promise.resolve();s=a;let f=r,l=!1,{delay:X=0,duration:h=400,easing:Y=J,interpolate:Z=N}=j(j({},e),c);if(h===0)return f&&(f.abort(),f=null),n.set(t=s),Promise.resolve();const v=k()+X;let M;return r=B(P=>{if(P<v)return!0;l||(M=Z(t,a),typeof h=="function"&&(h=h(t,a)),l=!0),f&&(f.abort(),f=null);const E=P-v;return E>h?(n.set(t=a),!1):(n.set(t=M(Y(E/h))),!0)}),r.promise}return{set:i,update:(a,c)=>i(a(s,t),c),subscribe:n.subscribe}}function bt(t){let e,n,r;return{c(){e=x("path"),this.h()},l(s){e=$(s,"path",{d:!0,class:!0,fill:!0});var i=tt(e);i.forEach(A),this.h()},h(){b(e,"d",t[0]),b(e,"class","provinceShape svelte-1em9zrb"),b(e,"fill",t[2])},m(s,i){et(s,e,i),n||(r=[z(e,"mouseover",t[4]),z(e,"mouseout",t[5])],n=!0)},p(s,[i]){i&1&&b(e,"d",s[0]),i&4&&b(e,"fill",s[2])},i:S,o:S,d(s){s&&A(e),n=!1,nt(r)}}}function yt(t,e,n){let r,{featurePath:s}=e,{initialColor:i}=e;const a=pt(i,{duration:300,interpolate:ht});rt(t,a,l=>n(2,r=l));const c=()=>{a.set(at(i).brighter(.3))},f=()=>{a.set(i)};return t.$$set=l=>{"featurePath"in l&&n(0,s=l.featurePath),"initialColor"in l&&n(1,i=l.initialColor)},[s,i,r,a,c,f]}class wt extends Q{constructor(e){super(),U(this,e,yt,bt,W,{featurePath:0,initialColor:1})}}export{wt as default};
